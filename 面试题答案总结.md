# 一、firstblood答案

## 1.1、第一题

``` ==
 f = function() {return true;};              
 g = function() {return false; };        

~(function() {
if (g() && [] == ![]) {
    f = function() {return false;};                      
    function g() {return true; }                    
	}
})();
console.log(f());
console.log(g());

答案：新版本浏览器报错，老版本浏览器结果是false,false
答案解析：
1、浏览器解析区别，老版本浏览器函数声明+定义，新版本浏览器函数只声明未定义
2、闭包中function g只被声明，没有定义，g()执行时会报错 =》Uncaught TypeError: g is not a function
3、如果在老板本浏览器中，function g声明且赋值，代码继续进行
4、条件判断【】== ！【】结果为true
![] == false,
Number(false) == 0
[].toString == ""
Number("") == 0
0 == 0 true
5、所以结果是false、false
```

## 1.2、第二题

```

    var n = 10;
    function fn(){
      var n = 20;
      function f(){
        n++;
        console.log(n);        
      }
      f();
      return f;
    }

    var x = fn();
    x();
    x();
    console.log(n);
    
    答案：21,22,23,10
    答案解析：重点在于函数的上级作用域只与其创建的环境有关，与其执行的环境无关
```

## 1.3、什么是闭包

函数执行，形成一个不销毁的私有作用域。

```
// 闭包=>柯里化函数
function fn(){
    return function (){
        
    }
}
var f = fn()


// 闭包=> 惰性函数
var utils=(function(){
    return {
        
    }
})()

实战应用案例
//真实项目中为了保证JS的性能，应该尽可能减少闭包的使用
闭包作用
//1、“保护”作用：保护私有变量不受外界干扰
同队协作开发时，应当尽可能减少全局变量的使用，以防止“全局变量污染”
（function(){
    
}）（）
如果闭包中需要使用暴露出去
	//=>1.1、JQ方式：暴露的方法抛到全局
	（function(){
    	function jQuery(){
            
    	}
    	window.jQuery = window.$ =jQuery
    	通过给window设置属性的方式
	}）（）
	//=>1.2、Zepto方式
	var Zepto = （function(){
   		 return $;
	}）（）
//2.“保存”作用：形成不销毁的栈内存，把一些值保存下来，方便后面使用
```

